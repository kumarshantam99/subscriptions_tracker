{"ast":null,"code":"import { table, minifyRecords } from './utils/Airtable';\nexport default (async (req, res) => {\n  const {\n    name,\n    amount\n  } = req.body;\n\n  try {\n    const creadtedRecords = await table.create([{\n      fields: {\n        name,\n        amount\n      }\n    }]).firstPage();\n    const createdRecord = {\n      id: creadtedRecords[0].id,\n      fields: creadtedRecords[0].fields\n    };\n    res.statusCode = 200;\n    res.json(createdRecord);\n  } catch (error) {\n    console.error(error);\n    res.statusCode = 500;\n    res.json({\n      msg: \"Something Went Wrong :(\"\n    });\n  }\n});","map":{"version":3,"sources":["C:/Users/kshan/Desktop/Web dev projects/subscriptions_tracker/pages/api/createSubs.js"],"names":["table","minifyRecords","req","res","name","amount","body","creadtedRecords","create","fields","firstPage","createdRecord","id","statusCode","json","error","console","msg"],"mappings":"AAAA,SAAQA,KAAR,EAAcC,aAAd,QAAkC,kBAAlC;AACA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC/B,QAAM;AAACC,IAAAA,IAAD;AAAMC,IAAAA;AAAN,MAAeH,GAAG,CAACI,IAAzB;;AACA,MAAI;AACA,UAAMC,eAAe,GAAC,MAAMP,KAAK,CAACQ,MAAN,CAAa,CAAC;AAACC,MAAAA,MAAM,EAAC;AAACL,QAAAA,IAAD;AAAMC,QAAAA;AAAN;AAAR,KAAD,CAAb,EAAuCK,SAAvC,EAA5B;AACA,UAAMC,aAAa,GAAC;AAChBC,MAAAA,EAAE,EAACL,eAAe,CAAC,CAAD,CAAf,CAAmBK,EADN;AACSH,MAAAA,MAAM,EAACF,eAAe,CAAC,CAAD,CAAf,CAAmBE;AADnC,KAApB;AAGAN,IAAAA,GAAG,CAACU,UAAJ,GAAiB,GAAjB;AACAV,IAAAA,GAAG,CAACW,IAAJ,CAASH,aAAT;AACH,GAPD,CAOE,OAAOI,KAAP,EAAc;AACZC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAZ,IAAAA,GAAG,CAACU,UAAJ,GAAiB,GAAjB;AACAV,IAAAA,GAAG,CAACW,IAAJ,CAAS;AAACG,MAAAA,GAAG,EAAC;AAAL,KAAT;AAEH;AAGF,CAjBH","sourcesContent":["import {table,minifyRecords} from './utils/Airtable'\r\nexport default async (req, res) => {\r\n    const {name,amount} =req.body\r\n    try {\r\n        const creadtedRecords=await table.create([{fields:{name,amount}}]).firstPage()\r\n        const createdRecord={\r\n            id:creadtedRecords[0].id,fields:creadtedRecords[0].fields\r\n        }\r\n        res.statusCode = 200\r\n        res.json(createdRecord)\r\n    } catch (error) {\r\n        console.error(error)\r\n        res.statusCode = 500\r\n        res.json({msg:\"Something Went Wrong :(\"})\r\n        \r\n    }\r\n    \r\n    \r\n  }\r\n  "]},"metadata":{},"sourceType":"module"}