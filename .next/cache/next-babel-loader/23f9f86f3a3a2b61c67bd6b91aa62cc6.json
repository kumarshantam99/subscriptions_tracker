{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\kshan\\\\Desktop\\\\Web dev projects\\\\subscriptions_tracker\\\\context\\\\SubsContext.js\";\nimport React, { createContext, useState } from 'react';\nconst SubsContext = /*#__PURE__*/createContext();\n\nconst SubsProvider = ({\n  children\n}) => {\n  const {\n    0: subs,\n    1: setSubs\n  } = useState([]);\n\n  const refreshSubs = async () => {\n    try {\n      const res = await fetch('/api/getSubs');\n      const latestSubs = await res.json();\n      setSubs(latestSubs);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const addName = async name => {\n    try {\n      const res = await fetch('/api/createSubs', {\n        method: 'POST',\n        body: JSON.stringify({\n          name\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const newSub = await res.json();\n      setSubs(prevSubs => {\n        return [newSub, ...prevSubs];\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const addDate = async date => {\n    try {\n      const res = await fetch('/api/createSubs', {\n        method: 'POST',\n        body: JSON.stringify({\n          date\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const newSub = await res.json();\n      setSubs(prevSubs => {\n        return [newSub, ...prevSubs];\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const addEdate = async edate => {\n    try {\n      const res = await fetch('/api/createSubs', {\n        method: 'POST',\n        body: JSON.stringify({\n          edate\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const newSub = await res.json();\n      setSubs(prevSubs => {\n        return [newSub, ...prevSubs];\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const addUrl = async url => {\n    try {\n      const res = await fetch('/api/createSubs', {\n        method: 'POST',\n        body: JSON.stringify({\n          url\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const newSub = await res.json();\n      setSubs(prevSubs => {\n        return [newSub, ...prevSubs];\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const addTrial = async trial => {\n    try {\n      const res = await fetch('/api/createSubs', {\n        method: 'POST',\n        body: JSON.stringify({\n          trial\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const newSub = await res.json();\n      setSubs(prevSubs => {\n        return [newSub, ...prevSubs];\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const addAmount = async amount => {\n    try {\n      const res = await fetch('/api/createSubs', {\n        method: 'POST',\n        body: JSON.stringify({\n          amount\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const newSub = await res.json();\n      setSubs(prevSubs => {\n        return [newSub, ...prevSubs];\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const updateSubs = async updatedSub => {\n    try {\n      const res = await fetch('/api/updateSubs', {\n        method: 'PUT',\n        body: JSON.stringify(updatedSub),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      await res.json();\n      setSubs(prevSubs => {\n        const existingSubs = [...prevSubs];\n        const existingSub = existingSubs.find(subscription => subscription.id === updatedSub.id);\n        existingSub.fields = updatedSub.fields;\n        return existingSubs;\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const deleteSubs = async id => {\n    try {\n      await fetch('/api/deleteSubs', {\n        method: 'DELETE',\n        body: JSON.stringify({\n          id\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      setSubs(prevSubs => {\n        return prevSubs.filter(sub => sub.id !== id);\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(SubsContext.Provider, {\n    value: {\n      subs,\n      setSubs,\n      refreshSubs,\n      updateSubs,\n      deleteSubs,\n      addSubs,\n      addName,\n      addDate,\n      addAmount,\n      addEdate,\n      addTrial,\n      addUrl\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 12\n  }, this);\n};\n\nexport { SubsProvider, SubsContext };","map":{"version":3,"sources":["C:/Users/kshan/Desktop/Web dev projects/subscriptions_tracker/context/SubsContext.js"],"names":["React","createContext","useState","SubsContext","SubsProvider","children","subs","setSubs","refreshSubs","res","fetch","latestSubs","json","error","console","addName","name","method","body","JSON","stringify","headers","newSub","prevSubs","addDate","date","addEdate","edate","addUrl","url","addTrial","trial","addAmount","amount","updateSubs","updatedSub","existingSubs","existingSub","find","subscription","id","fields","deleteSubs","filter","sub","addSubs"],"mappings":"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","sourcesContent":["import React,{createContext, useState} from 'react'\r\n\r\nconst SubsContext=createContext()\r\n\r\nconst SubsProvider=({children})=>{\r\n    const [subs,setSubs]=useState([])\r\n    const refreshSubs=async()=>{\r\n        try {\r\n            const res=await fetch('/api/getSubs')\r\n            const latestSubs=await res.json()\r\n            setSubs(latestSubs)\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const addName=async(name)=>{\r\n        try {\r\n            const res=await fetch('/api/createSubs',{\r\n                method:'POST',\r\n                body:JSON.stringify({name}),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n            \r\n            const newSub=await res.json()\r\n            setSubs((prevSubs)=>{\r\n                return [newSub,...prevSubs]\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const addDate=async(date)=>{\r\n        try {\r\n            const res=await fetch('/api/createSubs',{\r\n                method:'POST',\r\n                body:JSON.stringify({date}),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n            \r\n            const newSub=await res.json()\r\n            setSubs((prevSubs)=>{\r\n                return [newSub,...prevSubs]\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const addEdate=async(edate)=>{\r\n        try {\r\n            const res=await fetch('/api/createSubs',{\r\n                method:'POST',\r\n                body:JSON.stringify({edate}),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n            \r\n            const newSub=await res.json()\r\n            setSubs((prevSubs)=>{\r\n                return [newSub,...prevSubs]\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const addUrl=async(url)=>{\r\n        try {\r\n            const res=await fetch('/api/createSubs',{\r\n                method:'POST',\r\n                body:JSON.stringify({url}),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n            \r\n            const newSub=await res.json()\r\n            setSubs((prevSubs)=>{\r\n                return [newSub,...prevSubs]\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const addTrial=async(trial)=>{\r\n        try {\r\n            const res=await fetch('/api/createSubs',{\r\n                method:'POST',\r\n                body:JSON.stringify({trial}),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n            \r\n            const newSub=await res.json()\r\n            setSubs((prevSubs)=>{\r\n                return [newSub,...prevSubs]\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const addAmount=async(amount)=>{\r\n        try {\r\n            const res=await fetch('/api/createSubs',{\r\n                method:'POST',\r\n                body:JSON.stringify({amount}),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n            \r\n            const newSub=await res.json()\r\n            setSubs((prevSubs)=>{\r\n                return [newSub,...prevSubs]\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const updateSubs=async(updatedSub)=>{\r\n        try {\r\n            const res=await fetch('/api/updateSubs',{\r\n                method:'PUT',\r\n                body:JSON.stringify(updatedSub),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n            await res.json()\r\n            setSubs((prevSubs)=>{\r\n                const existingSubs=[...prevSubs]\r\n                const existingSub=existingSubs.find(subscription=>subscription.id===updatedSub.id)\r\n                existingSub.fields=updatedSub.fields\r\n                return existingSubs\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const deleteSubs=async(id)=>{\r\n        try {\r\n            await fetch('/api/deleteSubs',{\r\n                method:'DELETE',\r\n                body:JSON.stringify({id}),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n           \r\n            setSubs((prevSubs)=>{\r\n                return prevSubs.filter((sub)=>sub.id!==id)\r\n                \r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    return <SubsContext.Provider value={{\r\n        subs,setSubs,refreshSubs,updateSubs,deleteSubs,addSubs,addName,addDate,addAmount,addEdate,addTrial,addUrl\r\n    }}>{children}</SubsContext.Provider>\r\n}\r\n\r\nexport {SubsProvider,SubsContext}"]},"metadata":{},"sourceType":"module"}