{"ast":null,"code":"import { table, minifyRecord } from './utils/Airtable.js';\nimport auth0 from './utils/auth0';\nexport default auth0.requireAuthentication(async (req, res) => {\n  const {\n    id,\n    fields\n  } = req.body;\n\n  try {\n    const updatedRecords = await table.update([{\n      id,\n      fields\n    }]);\n    res.statusCode = 200;\n    res.json(minifyRecord(updatedRecords[0]));\n  } catch (error) {\n    console.error(error);\n    res.statusCode = 500;\n    res.json({\n      msg: 'Something went wrong'\n    });\n  }\n});","map":{"version":3,"sources":["C:/Users/kshan/Desktop/Web dev projects/subscriptions_tracker/pages/api/updateSubs.js"],"names":["table","minifyRecord","auth0","requireAuthentication","req","res","id","fields","body","updatedRecords","update","statusCode","json","error","console","msg"],"mappings":"AAAA,SAASA,KAAT,EAAeC,YAAf,QAAmC,qBAAnC;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAEA,eAAeA,KAAK,CAACC,qBAAN,CAA4B,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC3D,QAAM;AAAEC,IAAAA,EAAF;AAAKC,IAAAA;AAAL,MAAgBH,GAAG,CAACI,IAA1B;;AACA,MAAI;AACA,UAAMC,cAAc,GAAG,MAAMT,KAAK,CAACU,MAAN,CAAa,CACtC;AAAEJ,MAAAA,EAAF;AAAKC,MAAAA;AAAL,KADsC,CAAb,CAA7B;AAIAF,IAAAA,GAAG,CAACM,UAAJ,GAAiB,GAAjB;AACAN,IAAAA,GAAG,CAACO,IAAJ,CAASX,YAAY,CAACQ,cAAc,CAAC,CAAD,CAAf,CAArB;AACH,GAPD,CAOE,OAAOI,KAAP,EAAc;AACZC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAR,IAAAA,GAAG,CAACM,UAAJ,GAAiB,GAAjB;AACAN,IAAAA,GAAG,CAACO,IAAJ,CAAS;AAAEG,MAAAA,GAAG,EAAE;AAAP,KAAT;AACH;AACJ,CAdc,CAAf","sourcesContent":["import { table,minifyRecord } from './utils/Airtable.js';\r\nimport auth0 from './utils/auth0';\r\n\r\nexport default auth0.requireAuthentication(async (req, res) => {\r\n    const { id,fields } = req.body;\r\n    try {\r\n        const updatedRecords = await table.update([\r\n            { id,fields },\r\n        ]);\r\n       \r\n        res.statusCode = 200;\r\n        res.json(minifyRecord(updatedRecords[0]));\r\n    } catch (error) {\r\n        console.error(error);\r\n        res.statusCode = 500;\r\n        res.json({ msg: 'Something went wrong' });\r\n    }\r\n})\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}