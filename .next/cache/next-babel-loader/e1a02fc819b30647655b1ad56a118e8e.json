{"ast":null,"code":"import _toConsumableArray from \"C:/Users/kshan/Desktop/Web dev projects/subscriptions_tracker/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"C:/Users/kshan/Desktop/Web dev projects/subscriptions_tracker/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/kshan/Desktop/Web dev projects/subscriptions_tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\kshan\\\\Desktop\\\\Web dev projects\\\\subscriptions_tracker\\\\context\\\\SubsContext.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { createContext, useState } from 'react';\nvar SubsContext = /*#__PURE__*/createContext();\n\nvar SubsProvider = function SubsProvider(_ref) {\n  _s();\n\n  var children = _ref.children;\n\n  var _useState = useState([]),\n      subs = _useState[0],\n      setSubs = _useState[1];\n\n  var refreshSubs = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, latestSubs;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return fetch('/api/getSubs');\n\n            case 3:\n              res = _context.sent;\n              _context.next = 6;\n              return res.json();\n\n            case 6:\n              latestSubs = _context.sent;\n              setSubs(latestSubs);\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function refreshSubs() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var addName = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name) {\n      var res, newSub;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return fetch('/api/createSubs', {\n                method: 'POST',\n                body: JSON.stringify({\n                  name: name\n                }),\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 3:\n              res = _context2.sent;\n              _context2.next = 6;\n              return res.json();\n\n            case 6:\n              newSub = _context2.sent;\n              setSubs(function (prevSubs) {\n                return [newSub].concat(_toConsumableArray(prevSubs));\n              });\n              _context2.next = 13;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error(_context2.t0);\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 10]]);\n    }));\n\n    return function addName(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var addDate = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(date) {\n      var res, newSub;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return fetch('/api/createSubs', {\n                method: 'POST',\n                body: JSON.stringify({\n                  date: date\n                }),\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 3:\n              res = _context3.sent;\n              _context3.next = 6;\n              return res.json();\n\n            case 6:\n              newSub = _context3.sent;\n              setSubs(function (prevSubs) {\n                return [newSub].concat(_toConsumableArray(prevSubs));\n              });\n              _context3.next = 13;\n              break;\n\n            case 10:\n              _context3.prev = 10;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.error(_context3.t0);\n\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 10]]);\n    }));\n\n    return function addDate(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var addEdate = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(edate) {\n      var res, newSub;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return fetch('/api/createSubs', {\n                method: 'POST',\n                body: JSON.stringify({\n                  edate: edate\n                }),\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 3:\n              res = _context4.sent;\n              _context4.next = 6;\n              return res.json();\n\n            case 6:\n              newSub = _context4.sent;\n              setSubs(function (prevSubs) {\n                return [newSub].concat(_toConsumableArray(prevSubs));\n              });\n              _context4.next = 13;\n              break;\n\n            case 10:\n              _context4.prev = 10;\n              _context4.t0 = _context4[\"catch\"](0);\n              console.error(_context4.t0);\n\n            case 13:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 10]]);\n    }));\n\n    return function addEdate(_x3) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var addUrl = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(url) {\n      var res, newSub;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return fetch('/api/createSubs', {\n                method: 'POST',\n                body: JSON.stringify({\n                  url: url\n                }),\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 3:\n              res = _context5.sent;\n              _context5.next = 6;\n              return res.json();\n\n            case 6:\n              newSub = _context5.sent;\n              setSubs(function (prevSubs) {\n                return [newSub].concat(_toConsumableArray(prevSubs));\n              });\n              _context5.next = 13;\n              break;\n\n            case 10:\n              _context5.prev = 10;\n              _context5.t0 = _context5[\"catch\"](0);\n              console.error(_context5.t0);\n\n            case 13:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 10]]);\n    }));\n\n    return function addUrl(_x4) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var addTrial = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(trial) {\n      var res, newSub;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              _context6.next = 3;\n              return fetch('/api/createSubs', {\n                method: 'POST',\n                body: JSON.stringify({\n                  trial: trial\n                }),\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 3:\n              res = _context6.sent;\n              _context6.next = 6;\n              return res.json();\n\n            case 6:\n              newSub = _context6.sent;\n              setSubs(function (prevSubs) {\n                return [newSub].concat(_toConsumableArray(prevSubs));\n              });\n              _context6.next = 13;\n              break;\n\n            case 10:\n              _context6.prev = 10;\n              _context6.t0 = _context6[\"catch\"](0);\n              console.error(_context6.t0);\n\n            case 13:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 10]]);\n    }));\n\n    return function addTrial(_x5) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  var addAmount = /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(amount) {\n      var res, newSub;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              _context7.next = 3;\n              return fetch('/api/createSubs', {\n                method: 'POST',\n                body: JSON.stringify({\n                  amount: amount\n                }),\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 3:\n              res = _context7.sent;\n              _context7.next = 6;\n              return res.json();\n\n            case 6:\n              newSub = _context7.sent;\n              setSubs(function (prevSubs) {\n                return [newSub].concat(_toConsumableArray(prevSubs));\n              });\n              _context7.next = 13;\n              break;\n\n            case 10:\n              _context7.prev = 10;\n              _context7.t0 = _context7[\"catch\"](0);\n              console.error(_context7.t0);\n\n            case 13:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[0, 10]]);\n    }));\n\n    return function addAmount(_x6) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  var updateSubs = /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(updatedSub) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.prev = 0;\n              _context8.next = 3;\n              return fetch('/api/updateSubs', {\n                method: 'PUT',\n                body: JSON.stringify(updatedSub),\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 3:\n              res = _context8.sent;\n              _context8.next = 6;\n              return res.json();\n\n            case 6:\n              setSubs(function (prevSubs) {\n                var existingSubs = _toConsumableArray(prevSubs);\n\n                var existingSub = existingSubs.find(function (subscription) {\n                  return subscription.id === updatedSub.id;\n                });\n                existingSub.fields = updatedSub.fields;\n                return existingSubs;\n              });\n              _context8.next = 12;\n              break;\n\n            case 9:\n              _context8.prev = 9;\n              _context8.t0 = _context8[\"catch\"](0);\n              console.error(_context8.t0);\n\n            case 12:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, null, [[0, 9]]);\n    }));\n\n    return function updateSubs(_x7) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  var deleteSubs = /*#__PURE__*/function () {\n    var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(id) {\n      return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.prev = 0;\n              _context9.next = 3;\n              return fetch('/api/deleteSubs', {\n                method: 'DELETE',\n                body: JSON.stringify({\n                  id: id\n                }),\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 3:\n              setSubs(function (prevSubs) {\n                return prevSubs.filter(function (sub) {\n                  return sub.id !== id;\n                });\n              });\n              _context9.next = 9;\n              break;\n\n            case 6:\n              _context9.prev = 6;\n              _context9.t0 = _context9[\"catch\"](0);\n              console.error(_context9.t0);\n\n            case 9:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9, null, [[0, 6]]);\n    }));\n\n    return function deleteSubs(_x8) {\n      return _ref10.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(SubsContext.Provider, {\n    value: {\n      subs: subs,\n      setSubs: setSubs,\n      refreshSubs: refreshSubs,\n      updateSubs: updateSubs,\n      deleteSubs: deleteSubs,\n      addName: addName,\n      addDate: addDate,\n      addAmount: addAmount,\n      addEdate: addEdate,\n      addTrial: addTrial,\n      addUrl: addUrl\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 12\n  }, _this);\n};\n\n_s(SubsProvider, \"+hFczLd9jZnDXdYlZh406/cSBiI=\");\n\n_c = SubsProvider;\nexport { SubsProvider, SubsContext };\n\nvar _c;\n\n$RefreshReg$(_c, \"SubsProvider\");","map":{"version":3,"sources":["C:/Users/kshan/Desktop/Web dev projects/subscriptions_tracker/context/SubsContext.js"],"names":["React","createContext","useState","SubsContext","SubsProvider","children","subs","setSubs","refreshSubs","fetch","res","json","latestSubs","console","error","addName","name","method","body","JSON","stringify","headers","newSub","prevSubs","addDate","date","addEdate","edate","addUrl","url","addTrial","trial","addAmount","amount","updateSubs","updatedSub","existingSubs","existingSub","find","subscription","id","fields","deleteSubs","filter","sub"],"mappings":"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","sourcesContent":["import React,{createContext, useState} from 'react'\r\n\r\nconst SubsContext=createContext()\r\n\r\nconst SubsProvider=({children})=>{\r\n    const [subs,setSubs]=useState([])\r\n    const refreshSubs=async()=>{\r\n        try {\r\n            const res=await fetch('/api/getSubs')\r\n            const latestSubs=await res.json()\r\n            setSubs(latestSubs)\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const addName=async(name)=>{\r\n        try {\r\n            const res=await fetch('/api/createSubs',{\r\n                method:'POST',\r\n                body:JSON.stringify({name}),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n            \r\n            const newSub=await res.json()\r\n            setSubs((prevSubs)=>{\r\n                return [newSub,...prevSubs]\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const addDate=async(date)=>{\r\n        try {\r\n            const res=await fetch('/api/createSubs',{\r\n                method:'POST',\r\n                body:JSON.stringify({date}),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n            \r\n            const newSub=await res.json()\r\n            setSubs((prevSubs)=>{\r\n                return [newSub,...prevSubs]\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const addEdate=async(edate)=>{\r\n        try {\r\n            const res=await fetch('/api/createSubs',{\r\n                method:'POST',\r\n                body:JSON.stringify({edate}),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n            \r\n            const newSub=await res.json()\r\n            setSubs((prevSubs)=>{\r\n                return [newSub,...prevSubs]\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const addUrl=async(url)=>{\r\n        try {\r\n            const res=await fetch('/api/createSubs',{\r\n                method:'POST',\r\n                body:JSON.stringify({url}),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n            \r\n            const newSub=await res.json()\r\n            setSubs((prevSubs)=>{\r\n                return [newSub,...prevSubs]\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const addTrial=async(trial)=>{\r\n        try {\r\n            const res=await fetch('/api/createSubs',{\r\n                method:'POST',\r\n                body:JSON.stringify({trial}),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n            \r\n            const newSub=await res.json()\r\n            setSubs((prevSubs)=>{\r\n                return [newSub,...prevSubs]\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const addAmount=async(amount)=>{\r\n        try {\r\n            const res=await fetch('/api/createSubs',{\r\n                method:'POST',\r\n                body:JSON.stringify({amount}),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n            \r\n            const newSub=await res.json()\r\n            setSubs((prevSubs)=>{\r\n                return [newSub,...prevSubs]\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const updateSubs=async(updatedSub)=>{\r\n        try {\r\n            const res=await fetch('/api/updateSubs',{\r\n                method:'PUT',\r\n                body:JSON.stringify(updatedSub),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n            await res.json()\r\n            setSubs((prevSubs)=>{\r\n                const existingSubs=[...prevSubs]\r\n                const existingSub=existingSubs.find(subscription=>subscription.id===updatedSub.id)\r\n                existingSub.fields=updatedSub.fields\r\n                return existingSubs\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const deleteSubs=async(id)=>{\r\n        try {\r\n            await fetch('/api/deleteSubs',{\r\n                method:'DELETE',\r\n                body:JSON.stringify({id}),\r\n                headers:{'Content-Type':'application/json'}\r\n            })\r\n           \r\n            setSubs((prevSubs)=>{\r\n                return prevSubs.filter((sub)=>sub.id!==id)\r\n                \r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    return <SubsContext.Provider value={{\r\n        subs,setSubs,refreshSubs,updateSubs,deleteSubs,addName,addDate,addAmount,addEdate,addTrial,addUrl\r\n    }}>{children}</SubsContext.Provider>\r\n}\r\n\r\nexport {SubsProvider,SubsContext}"]},"metadata":{},"sourceType":"module"}