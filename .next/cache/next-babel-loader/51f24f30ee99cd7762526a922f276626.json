{"ast":null,"code":"require('dotenv').config();\n\nconst Airtable = require('airtable');\n\nconst base = new Airtable({\n  apiKey: process.env.AIRTABLE_API_KEY\n}).base(process.env.AIRTABLE_BASE_ID);\nconst table = base(process.env.AIRTABLE_TABLE_NAME);\n\nconst minifyRecords = records => {\n  return records.map(record => minifyRecord(record));\n};\n\nconst minifyRecord = record => {\n  if (!record.fields.archive) {\n    record.fields.archive = false;\n  }\n\n  return {\n    id: record.id,\n    fields: record.fields\n  };\n};\n\nexport { table, minifyRecord, minifyRecords };","map":{"version":3,"sources":["C:/Users/kshan/Desktop/Web dev projects/subscriptions_tracker/pages/api/utils/Airtable.js"],"names":["require","config","Airtable","base","apiKey","process","env","AIRTABLE_API_KEY","AIRTABLE_BASE_ID","table","AIRTABLE_TABLE_NAME","minifyRecords","records","map","record","minifyRecord","fields","archive","id"],"mappings":"AAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AACA,MAAMC,QAAQ,GAACF,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMG,IAAI,GAAC,IAAID,QAAJ,CAAa;AAACE,EAAAA,MAAM,EAACC,OAAO,CAACC,GAAR,CAAYC;AAApB,CAAb,EAAoDJ,IAApD,CAAyDE,OAAO,CAACC,GAAR,CAAYE,gBAArE,CAAX;AACA,MAAMC,KAAK,GAACN,IAAI,CAACE,OAAO,CAACC,GAAR,CAAYI,mBAAb,CAAhB;;AACA,MAAMC,aAAa,GAAEC,OAAD,IAAW;AAC3B,SAAOA,OAAO,CAACC,GAAR,CAAYC,MAAM,IAAEC,YAAY,CAACD,MAAD,CAAhC,CAAP;AACH,CAFD;;AAGA,MAAMC,YAAY,GAAED,MAAD,IAAU;AACzB,MAAG,CAACA,MAAM,CAACE,MAAP,CAAcC,OAAlB,EAA0B;AACtBH,IAAAA,MAAM,CAACE,MAAP,CAAcC,OAAd,GAAsB,KAAtB;AACH;;AACD,SAAM;AACFC,IAAAA,EAAE,EAACJ,MAAM,CAACI,EADR;AAEFF,IAAAA,MAAM,EAACF,MAAM,CAACE;AAFZ,GAAN;AAIH,CARD;;AASA,SAAQP,KAAR,EAAcM,YAAd,EAA2BJ,aAA3B","sourcesContent":["require('dotenv').config()\r\nconst Airtable=require('airtable')\r\nconst base=new Airtable({apiKey:process.env.AIRTABLE_API_KEY}).base(process.env.AIRTABLE_BASE_ID)\r\nconst table=base(process.env.AIRTABLE_TABLE_NAME)\r\nconst minifyRecords=(records)=>{\r\n    return records.map(record=>minifyRecord(record))\r\n}\r\nconst minifyRecord=(record)=>{\r\n    if(!record.fields.archive){\r\n        record.fields.archive=false\r\n    }\r\n    return{\r\n        id:record.id,\r\n        fields:record.fields\r\n    }\r\n}\r\nexport {table,minifyRecord,minifyRecords}"]},"metadata":{},"sourceType":"module"}